<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Cache · Quantum Circuit Simulation for Julia</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-89508993-1', 'auto');
ga('send', 'pageview');
</script><link rel="canonical" href="https://quantumbfs.github.io/Yao.jl/latest/dev/cache/index.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Quantum Circuit Simulation for Julia</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Tutorial</span><ul><li><a class="toctext" href="../../tutorial/GHZ/">Prepare Greenberger–Horne–Zeilinger state with Quantum Circuit</a></li><li><a class="toctext" href="../../tutorial/QFT/">Quantum Fourier Transform</a></li><li><a class="toctext" href="../../tutorial/QCBM/">Quantum Circuit Born Machine</a></li></ul></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../../man/blocks/">Blocks as the basic component of a circuit</a></li><li><a class="toctext" href="../../man/cache/">Cache System</a></li><li><a class="toctext" href="../../man/functional/">Functional Programming</a></li></ul></li><li><span class="toctext">Developer Documentation</span><ul><li><a class="toctext" href="../block/">Block System</a></li><li><a class="toctext" href="../register/">Quantum Register</a></li><li class="current"><a class="toctext" href>Cache</a><ul class="internal"><li><a class="toctext" href="#Key-value-Storage-1">Key-value Storage</a></li><li><a class="toctext" href="#Julia&#39;s-Dict-1">Julia&#39;s Dict</a></li><li><a class="toctext" href="#Implementation-1">Implementation</a></li></ul></li><li><a class="toctext" href="../visualization/">Visualization</a></li><li><a class="toctext" href="../unittest/">Unit Test</a></li><li><a class="toctext" href="../APIs/">APIs</a></li></ul></li><li><span class="toctext">Theoretical Notes</span><ul><li><a class="toctext" href="../../theo/register/">Register</a></li><li><a class="toctext" href="../../theo/rotation/">Rotation Block</a></li><li><a class="toctext" href="../../theo/grover/">Grover Search</a></li><li><a class="toctext" href="../../theo/blocks/">Block Operations</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Developer Documentation</li><li><a href>Cache</a></li></ul><a class="edit-page" href="https://github.com/QuantumBFS/Yao.jl/blob/master/docs/src/dev/cache.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Cache</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Cache-1" href="#Cache-1">Cache</a></h1><h2><a class="nav-anchor" id="Key-value-Storage-1" href="#Key-value-Storage-1">Key-value Storage</a></h2><p>Like PyTorch, MXNet, we use a key value storage (a cache pool, like dmlc/ps-lite) to store cached blocks. Cached blocks are frequently used blocks with specific matrix form. You can choose which type of matrix storage to store in a cache pool.</p><p>The benefit of this solution includes:</p><ul><li><p>more contiguous memory address (compare to previous plans, e.g <code>CacheBlock</code>, block with a cache dict)</p></li><li><p>more convenient for traversing cached parameters</p></li><li><p>this solution offer us flexibility for future implementation on GPUs and large clusters.</p></li></ul><h2><a class="nav-anchor" id="Julia&#39;s-Dict-1" href="#Julia&#39;s-Dict-1">Julia&#39;s Dict</a></h2><pre><code class="language-julia">Base.hashindex(key, sz)</code></pre><p><code>sz</code> is the total length of the list of slots.</p><p><em>TO BE DONE...</em></p><h2><a class="nav-anchor" id="Implementation-1" href="#Implementation-1">Implementation</a></h2><p>Unlike parameter servers in deep learning frameworks. Our cache server contains not only the cached (sparse) matrix, but also its related cache level, which defines its update priority during the evluation of a quantum circuit. Or it can be viewed as a parameter server that stores a <code>CacheElement</code>).</p><h3><a class="nav-anchor" id="Solutions-1" href="#Solutions-1">Solutions</a></h3><p><em>TO BE DONE...</em></p><footer><hr/><a class="previous" href="../register/"><span class="direction">Previous</span><span class="title">Quantum Register</span></a><a class="next" href="../visualization/"><span class="direction">Next</span><span class="title">Visualization</span></a></footer></article></body></html>
